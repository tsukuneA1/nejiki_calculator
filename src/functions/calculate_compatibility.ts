import { Move } from '@prisma/client';

type PokemonType =
  | 'ノーマル'
  | 'ほのお'
  | 'みず'
  | 'でんき'
  | 'くさ'
  | 'こおり'
  | 'かくとう'
  | 'どく'
  | 'じめん'
  | 'ひこう'
  | 'エスパー'
  | 'むし'
  | 'いわ'
  | 'ゴースト'
  | 'ドラゴン'
  | 'あく'
  | 'はがね'; // ノーマルタイプを追加

const typeEffectiveness: Record<PokemonType, Record<PokemonType, number>> = {
  ノーマル: {
    ノーマル: 1,
    ほのお: 1,
    みず: 1,
    でんき: 1,
    くさ: 1,
    こおり: 1,
    かくとう: 1,
    どく: 1,
    じめん: 1,
    ひこう: 1,
    エスパー: 1,
    むし: 1,
    いわ: 0.5,
    ゴースト: 0,
    ドラゴン: 1,
    あく: 1,
    はがね: 0.5,
  },
  ほのお: {
    ノーマル: 1,
    ほのお: 0.5,
    みず: 0.5,
    でんき: 1,
    くさ: 2,
    こおり: 2,
    かくとう: 1,
    どく: 1,
    じめん: 1,
    ひこう: 1,
    エスパー: 1,
    むし: 2,
    いわ: 0.5,
    ゴースト: 1,
    ドラゴン: 0.5,
    あく: 1,
    はがね: 2,
  },
  みず: {
    ノーマル: 1,
    ほのお: 2,
    みず: 0.5,
    でんき: 1,
    くさ: 0.5,
    こおり: 1,
    かくとう: 1,
    どく: 1,
    じめん: 2,
    ひこう: 1,
    エスパー: 1,
    むし: 1,
    いわ: 2,
    ゴースト: 1,
    ドラゴン: 0.5,
    あく: 1,
    はがね: 1,
  },
  でんき: {
    ノーマル: 1,
    ほのお: 1,
    みず: 2,
    でんき: 0.5,
    くさ: 0.5,
    こおり: 1,
    かくとう: 1,
    どく: 1,
    じめん: 0,
    ひこう: 2,
    エスパー: 1,
    むし: 1,
    いわ: 1,
    ゴースト: 1,
    ドラゴン: 0.5,
    あく: 1,
    はがね: 1,
  },
  くさ: {
    ノーマル: 1,
    ほのお: 0.5,
    みず: 2,
    でんき: 1,
    くさ: 0.5,
    こおり: 1,
    かくとう: 1,
    どく: 0.5,
    じめん: 2,
    ひこう: 0.5,
    エスパー: 1,
    むし: 0.5,
    いわ: 2,
    ゴースト: 1,
    ドラゴン: 0.5,
    あく: 1,
    はがね: 0.5,
  },
  こおり: {
    ノーマル: 1,
    ほのお: 0.5,
    みず: 0.5,
    でんき: 1,
    くさ: 2,
    こおり: 0.5,
    かくとう: 1,
    どく: 1,
    じめん: 2,
    ひこう: 2,
    エスパー: 1,
    むし: 1,
    いわ: 1,
    ゴースト: 1,
    ドラゴン: 2,
    あく: 1,
    はがね: 0.5,
  },
  かくとう: {
    ノーマル: 2,
    ほのお: 1,
    みず: 1,
    でんき: 1,
    くさ: 1,
    こおり: 2,
    かくとう: 1,
    どく: 0.5,
    じめん: 1,
    ひこう: 0.5,
    エスパー: 0.5,
    むし: 0.5,
    いわ: 2,
    ゴースト: 0,
    ドラゴン: 1,
    あく: 2,
    はがね: 2,
  },
  どく: {
    ノーマル: 1,
    ほのお: 1,
    みず: 1,
    でんき: 1,
    くさ: 2,
    こおり: 1,
    かくとう: 1,
    どく: 0.5,
    じめん: 0.5,
    ひこう: 1,
    エスパー: 1,
    むし: 1,
    いわ: 0.5,
    ゴースト: 0.5,
    ドラゴン: 1,
    あく: 1,
    はがね: 0,
  },
  じめん: {
    ノーマル: 1,
    ほのお: 2,
    みず: 1,
    でんき: 2,
    くさ: 0.5,
    こおり: 1,
    かくとう: 1,
    どく: 2,
    じめん: 1,
    ひこう: 0,
    エスパー: 1,
    むし: 0.5,
    いわ: 2,
    ゴースト: 1,
    ドラゴン: 1,
    あく: 1,
    はがね: 2,
  },
  ひこう: {
    ノーマル: 1,
    ほのお: 1,
    みず: 1,
    でんき: 0.5,
    くさ: 2,
    こおり: 1,
    かくとう: 2,
    どく: 1,
    じめん: 1,
    ひこう: 1,
    エスパー: 1,
    むし: 2,
    いわ: 0.5,
    ゴースト: 1,
    ドラゴン: 1,
    あく: 1,
    はがね: 0.5,
  },
  エスパー: {
    ノーマル: 1,
    ほのお: 1,
    みず: 1,
    でんき: 1,
    くさ: 1,
    こおり: 1,
    かくとう: 2,
    どく: 2,
    じめん: 1,
    ひこう: 1,
    エスパー: 0.5,
    むし: 1,
    いわ: 1,
    ゴースト: 1,
    ドラゴン: 1,
    あく: 0,
    はがね: 0.5,
  },
  むし: {
    ノーマル: 1,
    ほのお: 0.5,
    みず: 1,
    でんき: 1,
    くさ: 2,
    こおり: 1,
    かくとう: 0.5,
    どく: 0.5,
    じめん: 1,
    ひこう: 0.5,
    エスパー: 2,
    むし: 1,
    いわ: 1,
    ゴースト: 0.5,
    ドラゴン: 1,
    あく: 2,
    はがね: 0.5,
  },
  いわ: {
    ノーマル: 1,
    ほのお: 2,
    みず: 1,
    でんき: 1,
    くさ: 1,
    こおり: 2,
    かくとう: 0.5,
    どく: 1,
    じめん: 0.5,
    ひこう: 2,
    エスパー: 1,
    むし: 2,
    いわ: 1,
    ゴースト: 1,
    ドラゴン: 1,
    あく: 1,
    はがね: 0.5,
  },
  ゴースト: {
    ノーマル: 0,
    ほのお: 1,
    みず: 1,
    でんき: 1,
    くさ: 1,
    こおり: 1,
    かくとう: 1,
    どく: 1,
    じめん: 1,
    ひこう: 1,
    エスパー: 2,
    むし: 1,
    いわ: 1,
    ゴースト: 2,
    ドラゴン: 1,
    あく: 0.5,
    はがね: 0.5,
  },
  ドラゴン: {
    ノーマル: 1,
    ほのお: 1,
    みず: 1,
    でんき: 1,
    くさ: 1,
    こおり: 1,
    かくとう: 1,
    どく: 1,
    じめん: 1,
    ひこう: 1,
    エスパー: 1,
    むし: 1,
    いわ: 1,
    ゴースト: 1,
    ドラゴン: 2,
    あく: 1,
    はがね: 0.5,
  },
  あく: {
    ノーマル: 1,
    ほのお: 1,
    みず: 1,
    でんき: 1,
    くさ: 1,
    こおり: 1,
    かくとう: 0.5,
    どく: 1,
    じめん: 1,
    ひこう: 1,
    エスパー: 2,
    むし: 1,
    いわ: 1,
    ゴースト: 2,
    ドラゴン: 1,
    あく: 0.5,
    はがね: 0.5,
  },
  はがね: {
    ノーマル: 1,
    ほのお: 0.5,
    みず: 0.5,
    でんき: 0.5,
    くさ: 1,
    こおり: 2,
    かくとう: 1,
    どく: 1,
    じめん: 1,
    ひこう: 1,
    エスパー: 1,
    むし: 1,
    いわ: 2,
    ゴースト: 1,
    ドラゴン: 1,
    あく: 1,
    はがね: 0.5,
  },
};

export const calculateCompatibility = (
  move: Move,
  defenderType: string
): number => {
  const moveType = move.type;
  const effectiveness =
    typeEffectiveness[moveType as PokemonType][defenderType as PokemonType];
  return effectiveness;
};
